---
title: Aggiornamento di sicurezza disponibile per Adobe Commerce - [!DNL APSB24-40]
promoted: true
description: Applica un hotfix e una patch per correggere [!DNL CVE-2024-34102] per Adobe Commerce 2.4.4-p8, 2.4.5-p7, 2.4.6-p5, 2.4.7 e versioni precedenti.
feature: Compliance, Security
role: Developer
exl-id: b6f4a26f-a6cf-4ced-841e-a579c8e0f8f4
source-git-commit: 0f8744ceec118aa14632a3678d0262b3e730883d
workflow-type: tm+mt
source-wordcount: '803'
ht-degree: 0%

---

# Aggiornamento di sicurezza disponibile per Adobe Commerce - [!DNL APSB24-40]

>[!NOTE]
>
>**Si tratta di un aggiornamento urgente relativo a [!DNL CVE-2024-34102]. L&#39;Adobe è a conoscenza del fatto che [!DNL CVE-2024-34102] è stato sfruttato in modo selvaggio in attacchi molto limitati rivolti a commercianti Adobe Commerce.

Il 17 luglio 2024 è stato rilasciato [!DNL hotfix] in aggiunta alla versione dell’aggiornamento di sicurezza dell’11 giugno 2024 e/o alla patch isolata rilasciata il 28 giugno 2024.

**Controlla tutti gli ambienti di produzione e non di produzione per assicurarti che l&#39;archivio sia stato completamente aggiornato su tutte le istanze.  <u>azione immediata</u> per risolvere la vulnerabilità.**

>[!NOTE]
>
>**Solo per Adobe Commerce su Cloud Merchants**:<br><br>1. Assicurarsi di utilizzare la versione più recente di [!DNL ECE Tools]. In caso contrario, eseguire l&#39;aggiornamento (o passare alla voce 2). Per verificare la versione esistente, eseguire il comando seguente:`composer show magento/ece-tools`<br>2. Se si utilizza già la versione più recente di [!DNL ECE Tools], verificare la presenza del file `op-exclude.txt`. Per eseguire il comando:`ls op-exclude.txt`.Se il file non è presente, aggiungere https://github.com/magento/magento-cloud/blob/master/op-exclude.txt all&#39;archivio, quindi eseguire il commit della modifica e ridistribuire.<br>3. Senza dover aggiornare [!DNL ECE Tools], puoi anche aggiungere/modificare https://github.com/magento/magento-cloud/blob/master/op-exclude.txt nel repository, quindi eseguire il commit della modifica e ridistribuirla.

## Opzione 1: per i commercianti con <u>not</u> applicato l&#39;aggiornamento di sicurezza dall&#39;11 giugno 2024, né la patch isolata rilasciata il 28 giugno 2024

1. Applica [!DNL hotfix] rilasciato il 17 luglio 2024.
1. Applicare la patch di sicurezza.
1. Abilita [!UICONTROL maintenance mode].
1. Disabilita esecuzione [!DNL cron] (comando Commerce su Cloud: `vendor/bin/ece-tools cron:disable`).
1. [Ruota [!UICONTROL encryption keys]](https://experienceleague.adobe.com/it/docs/commerce-admin/systems/security/encryption-key).
1. Svuota la cache.
1. Abilita esecuzione [!DNL cron] (comando Commerce su Cloud: `vendor/bin/ece-tools cron:enable`).
1. Disabilita [!UICONTROL maintenance mode].

OPPURE

1. Applicare la patch isolata. **<u>NOTA</u>: questa versione della patch isolata contiene il [!DNL hotfix] del 17 luglio 2024.**
1. Abilita [!UICONTROL maintenance mode].
1. Disabilita esecuzione [!DNL cron] (comando Commerce su Cloud: `vendor/bin/ece-tools cron:disable`).
1. [Ruota [!UICONTROL encryption keys]](https://experienceleague.adobe.com/it/docs/commerce-admin/systems/security/encryption-key).
1. Svuota la cache.
1. Abilita esecuzione [!DNL cron] (comando Commerce su Cloud: `vendor/bin/ece-tools cron:enable`).
1. Disabilita [!UICONTROL maintenance mode].

## Opzione 2: per i commercianti che hanno <u>già</u> applicato l&#39;aggiornamento di sicurezza dall&#39;11 giugno 2024 e/o la patch isolata rilasciata il 28 giugno 2024

1. Applica [!DNL hotfix] rilasciato il 17 luglio 2024.
1. Abilita [!UICONTROL maintenance mode].
1. Disabilita esecuzione [!DNL cron] (comando Commerce su Cloud: `vendor/bin/ece-tools cron:disable`).
1. [Ruota [!UICONTROL encryption keys]](https://experienceleague.adobe.com/it/docs/commerce-admin/systems/security/encryption-key).
1. Svuota la cache.
1. Abilita esecuzione [!DNL cron] (comando Commerce su Cloud: `vendor/bin/ece-tools cron:enable`).
1. Disabilita [!UICONTROL maintenance mode].

## Opzione 3: per i commercianti che hanno <u>già</u> (1) applicato l&#39;aggiornamento di sicurezza dall&#39;11 giugno 2024 e/o (2) la patch isolata rilasciata il 28 giugno 2024 e (3) ha ruotato le chiavi di crittografia

* Applica l&#39;[hotfix](#hotfix) rilasciato il 17 luglio 2024.


>[!NOTE]
>
>Per essere certi di essere ancora al sicuro dopo l&#39;aggiornamento, devi anche **[ruotare il [!UICONTROL encryption keys]](https://experienceleague.adobe.com/it/docs/commerce-admin/systems/security/encryption-key)**:<br><br>1. Abilita [!UICONTROL maintenance mode].<br>2. Disabilita esecuzione [!DNL cron] (comando Commerce su Cloud: `vendor/bin/ece-tools cron:disable`).<br>3. Ruota [!DNL encryption keys].<br>4. Abilita esecuzione [!DNL cron] (comando Commerce su Cloud: `vendor/bin/ece-tools cron:enable`).<br>5. Disabilita [!UICONTROL maintenance mode].

Questo articolo illustra come implementare la patch isolata per questo problema per la versione corrente e precedenti di Adobe Commerce e Magento Open Source.
**<u>NOTA</u>: questa versione della patch isolata contiene il [!DNL hotfix] del 17 luglio 2024.**

## Prodotti e versioni interessati

Adobe Commerce on Cloud, Adobe Commerce on-premise e Magento Open Source:

* 2.4.7-p1 e versioni precedenti
* 2.4.6-p6 e versioni precedenti
* 2.4.5-p8 e versioni precedenti
* 2.4.4-p9 e versioni precedenti

## Soluzione per Adobe Commerce on Cloud, software Adobe Commerce on-premise e Magento Open Source

Per risolvere la vulnerabilità dei prodotti e delle versioni interessati, è necessario applicare la patch [!DNL VULN-27015] (a seconda della versione) e ruotare [!UICONTROL encryption keys].

## Dettagli Hotfix {#hotfix}

* Scarica [!DNL Hotfix] [AC-12485_Hotfix_COMPOSER_patch.zip](assets/AC-12485_Hotfix_COMPOSER_patch.zip)

## Dettagli patch isolata

**<u>NOTA</u>: questa versione della patch isolata contiene il [!DNL hotfix] del 17 luglio 2024.**

Utilizza le seguenti patch allegate, a seconda della versione di Adobe Commerce/Magento Open Source in uso:

### Per la versione 2.4.7:

* [VULN-27015-2.4.7x_v2_COMPOSER_patch.zip](assets/VULN-27015-2.4.7x_v2_COMPOSER_patch.zip)

### Per le versioni 2.4.6, 2.4.6-p1, 2.4.6-p2, 2.4.6-p3, 2.4.6-p4, 2.4.6-p5:

* [VULN-27015-2.4.6x_v2_COMPOSER_patch.zip](assets/VULN-27015-2.4.6x_v2_COMPOSER_patch.zip)

### Per le versioni 2.4.5, 2.4.5-p1, 2.4.5-p2, 2.4.5-p3, 2.4.5-p4, 2.4.5-p5, 2.4.5-p6, 2.4.5-p7:

* [VULN-27015-2.4.5x_v2_COMPOSER_patch.zip](assets/VULN-27015-2.4.5x_v2_COMPOSER_patch.zip)

### Per le versioni 2.4.4, 2.4.4-p1, 2.4.4-p2, 2.4.4-p3, 2.4.4-p4, 2.4.4-p5, 2.4.4-p6, 2.4.4-p7, 2.4.4-p8:

* [VULN-27015-2.4.4x_v2_COMPOSER_patch.zip](assets/VULN-27015-2.4.4x_v2_COMPOSER_patch.zip)


## Come applicare la patch isolata e [!DNL hotfix]

Decomprimi il file e vedi [Come applicare una patch del compositore fornita dall&#39;Adobe](https://experienceleague.adobe.com/docs/commerce-knowledge-base/kb/how-to/how-to-apply-a-composer-patch-provided-by-magento.html?lang=it) nella Knowledge Base di supporto per le istruzioni.

## Solo per Adobe Commerce su Cloud Merchants: come stabilire se le patch isolate sono state applicate

Considerando che non è possibile verificare facilmente se il problema è stato corretto, è possibile verificare se la patch isolata [!DNL VULN-27015] è stata applicata correttamente.

<u>A tale scopo, eseguire la procedura seguente, utilizzando il file `VULN-27015-2.4.7_COMPOSER.patch` come esempio</u>:

1. [Installare lo strumento Patch di qualità](https://experienceleague.adobe.com/docs/commerce-operations/tools/quality-patches-tool/usage.html?lang=it).
1. Esegui il comando:<br>
   ![cve-2024-34102-tell-if-patch-apply-code](assets/cve-2024-34102-tell-if-patch-applied-code.png)

<!--
    ```bash
    vendor/bin/magento-patches -n status |grep "27015\|Status"
    ```
-->

1. Dovresti visualizzare un output simile a questo, dove VULN-27015 restituisce lo stato *Applicato*:

   ```bash
   ║ Id            │ Title                                                        │ Category        │ Origin                 │ Status      │ Details                                          ║ ║ N/A           │ ../m2-hotfixes/VULN-27015-2.4.7_COMPOSER_patch.patch      │ Other           │ Local                  │ Applied     │ Patch type: Custom                                
   ```

## Ruota/modifica [!UICONTROL encryption key] dopo l&#39;applicazione della patch

Per informazioni **su come ruotare/modificare [!UICONTROL encryption key] dopo l&#39;applicazione della patch, fare riferimento alla [Guida di Admin Systems: [!UICONTROL Encryption key]](https://experienceleague.adobe.com/it/docs/commerce-admin/systems/security/encryption-key)** nella documentazione di Commerce Admin Systems Guide.

## Indicazioni aggiuntive sulla protezione dell&#39;archivio e sulla rotazione delle chiavi di crittografia

Per ulteriori informazioni sulla protezione dell&#39;archivio e sulla rotazione delle chiavi di crittografia relative a [!DNL CVE-2024-34102], vedere [Informazioni sulla protezione dell&#39;archivio e sulla rotazione delle chiavi di crittografia: [!DNL CVE-2024-34102]](https://experienceleague.adobe.com/it/docs/commerce-knowledge-base/kb/troubleshooting/known-issues-patches-attached/guidance-on-securing-your-store-and-rotating-encryptionkeys-cve-2024-34102), anche nella Knowledge Base di Adobe Commerce.

## Aggiornamenti di sicurezza

Aggiornamenti di sicurezza disponibili per Adobe Commerce:

* [Risoluzione dei problemi relativi alla rotazione delle chiavi di crittografia: [!DNL CVE-2024-34102]](https://experienceleague.adobe.com/it/docs/commerce-knowledge-base/kb/troubleshooting/known-issues-patches-attached/troubleshooting-encryption-key-rotation-cve-2024-34102)
* [Bollettino sulla sicurezza di Adobe ([!DNL APSB24-40])](https://helpx.adobe.com/it/security/products/magento/apsb24-40.html)

## Lettura correlata

[Attivare o disattivare [!UICONTROL maintenance mode]](https://experienceleague.adobe.com/it/docs/commerce-operations/installation-guide/tutorials/maintenance-mode) nella Guida all&#39;installazione di Adobe Commerce